{"title":"渗透日记-20181005","date":"2018-10-05T05:36:01.000Z","slug":"pentest-20181005","tags":["Pentest"],"updated":"2018-10-05T05:57:32.848Z","content":"<p>在 shodan 上搜到一个有趣的站，名字就叫 webshell。</p>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/1.png\" alt=\"1\"></p></div>\n<p>根据提示</p>\n<blockquote>\n<p>Nothing specify params. Try to use “?file=” or “?id=time” to read a stream.</p>\n</blockquote>\n<p>可以通过 file 参数读取文件内容。</p>\n<p>尝试读取 /etc/passwd 成功。</p>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/2.png\" alt=\"2\"></p></div>\n<p>尝试执行命令，<code>a;ls</code>，成功。</p>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/3.png\" alt=\"3\"></p></div>\n<p>但是但我尝试读取上级目录的时候，<code>a;ls ..</code>，失败。</p>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/4.png\" alt=\"4\"></p></div>\n<p>尝试了很多方法，最后发现，可能是空格失效了。</p>\n<p>找到 l3m0n 师傅的命令执行绕过技巧，尝试 <code>&lt;&gt;</code> <code>${IFS}</code> 替代空格。</p>\n<p>执行成功。</p>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/5.png\" alt=\"5\"></p></div>\n<p>接下来，就可以弹一个shell回来，然后为所欲为啦。 （。＾▽＾）</p>\n<p>不过我喜欢用 msf ，那就先在自己服务器的 web 目录写一个 meterpreter 的后门。</p>\n<p>再 wget 下来后运行。</p>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/6.png\" alt=\"6\"></p></div>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/7.png\" alt=\"7\"></p></div>\n<p>成功连上。</p>\n<div class=\"article-img\"><p><img src=\"/post/pentest-20181005/8.png\" alt=\"8\"></p></div>\n<p>Ubuntu 16.04 内核 <code>4.4.0-77</code>，<code>CVE-2017-16995</code> 应该可以直接提权，不过是国内的机器，也没什么太多有意思的东西，就不深入了。</p>\n","next":{"title":"当SQL注入遇到WAF","slug":"summary-sqli-bypass"},"link":"http://Jayl1n.github.io/post/pentest-20181005/"}